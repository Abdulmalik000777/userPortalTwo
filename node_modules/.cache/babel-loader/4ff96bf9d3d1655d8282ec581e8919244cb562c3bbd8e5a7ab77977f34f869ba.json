{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import\"../pages/UserManagement.css\";// Correct path to UserManagement.css in pages folder\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserManagement(){const[users,setUsers]=useState([]);const navigate=useNavigate();// WebSocket connection\nuseEffect(()=>{const socket=new WebSocket('ws://localhost:5000/ws');socket.onopen=()=>{console.log('WebSocket connected');};socket.onmessage=event=>{const data=JSON.parse(event.data);console.log('Received data from WebSocket:',data);// You can update the state based on the message received\n};socket.onerror=error=>{console.log('WebSocket error:',error);};socket.onclose=()=>{console.log('WebSocket connection closed');};// Cleanup WebSocket connection on component unmount\nreturn()=>{socket.close();};},[]);const toggleBlock=id=>{setUsers(users.map(user=>user.id===id?{...user,blocked:!user.blocked}:user));};const deleteUser=id=>{setUsers(users.filter(user=>user.id!==id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-management-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),children:\"Go to Login\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Seen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.lastSeen}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleBlock(user.id),children:user.blocked?\"Unblock\":\"Block\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(user.id),children:\"Delete\"})]})]},user.id))})]})]});}export default UserManagement;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","UserManagement","users","setUsers","navigate","socket","WebSocket","onopen","console","log","onmessage","event","data","JSON","parse","onerror","error","onclose","close","toggleBlock","id","map","user","blocked","deleteUser","filter","className","children","onClick","name","email","lastSeen"],"sources":["C:/Users/user/Desktop/userPortalTwo/userPortalTwo/src/components/UserManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../pages/UserManagement.css\"; // Correct path to UserManagement.css in pages folder\r\n\r\nfunction UserManagement() {\r\n  const [users, setUsers] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  // WebSocket connection\r\n  useEffect(() => {\r\n    const socket = new WebSocket('ws://localhost:5000/ws');\r\n    \r\n    socket.onopen = () => {\r\n      console.log('WebSocket connected');\r\n    };\r\n    \r\n    socket.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      console.log('Received data from WebSocket:', data);\r\n      // You can update the state based on the message received\r\n    };\r\n    \r\n    socket.onerror = (error) => {\r\n      console.log('WebSocket error:', error);\r\n    };\r\n    \r\n    socket.onclose = () => {\r\n      console.log('WebSocket connection closed');\r\n    };\r\n    \r\n    // Cleanup WebSocket connection on component unmount\r\n    return () => {\r\n      socket.close();\r\n    };\r\n  }, []);\r\n\r\n  const toggleBlock = (id) => {\r\n    setUsers(users.map(user => \r\n      user.id === id ? { ...user, blocked: !user.blocked } : user\r\n    ));\r\n  };\r\n\r\n  const deleteUser = (id) => {\r\n    setUsers(users.filter(user => user.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-management-container\">\r\n      <h2>User Management</h2>\r\n      <button onClick={() => navigate(\"/\")}>Go to Login</button>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Last Seen</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map(user => (\r\n            <tr key={user.id}>\r\n              <td>{user.name}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.lastSeen}</td>\r\n              <td>\r\n                <button onClick={() => toggleBlock(user.id)}>\r\n                  {user.blocked ? \"Unblock\" : \"Block\"}\r\n                </button>\r\n                <button onClick={() => deleteUser(user.id)}>Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}